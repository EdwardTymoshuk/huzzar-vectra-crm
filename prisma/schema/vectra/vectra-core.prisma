model VectraUser {
  userId                         String                            @id
  createdAt                      DateTime                          @default(now())
  updatedAt                      DateTime                          @updatedAt
  active                         Boolean                           @default(true)
  deactivatedAt                  DateTime?
  transfersConfirmed             VectraLocationTransfer[]          @relation("VectraConfirmedTransfers")
  transfersRequested             VectraLocationTransfer[]          @relation("VectraRequestedTransfers")
  ordersAssigned                 VectraOrder[]                     @relation("VectraOrderAssignedTo")
  ordersTransferred              VectraOrder[]                     @relation("VectraOrderTransfer")
  orderHistory                   VectraOrderHistory[]              @relation("VectraOrderHistoryByUser")
  materialDeficits               VectraTechnicianMaterialDeficit[] @relation("VectraMaterialDeficitTechnician")
  VectraTechnicianSettingsLegacy VectraTechnicianSettingsLegacy?
  user                           User                              @relation("UserToVectraUser", fields: [userId], references: [id])
  warehouseItems                 VectraWarehouse[]                 @relation("VectraWarehouseAssignedTo")
  transferredItems               VectraWarehouse[]                 @relation("VectraWarehouseTransfer")
  warehouseHistoryAssigned       VectraWarehouseHistory[]          @relation("VectraWHAssignedTo")
  warehouseHistoryPerformed      VectraWarehouseHistory[]          @relation("VectraWHPerformedBy")

  @@schema("vectra")
}

model VectraRateDefinition {
  id          String                       @id @default(uuid())
  code        String                       @unique
  amount      Float
  settlements VectraOrderSettlementEntry[] @relation("RateDefinitionToSettlement")

  @@schema("vectra")
}

model VectraOperatorDefinition {
  operator String @unique

  @@schema("vectra")
}

model VectraTechnicianSettingsLegacy {
  userId          String     @id
  workingDaysGoal Int
  revenueGoal     Float
  createdAt       DateTime   @default(now())
  updatedAt       DateTime   @updatedAt
  user            VectraUser @relation(fields: [userId], references: [userId])

  @@map("VectraTechnicianSettings")
  @@schema("vectra")
}

model VectraWarehouseLocationLegacy {
  id        String   @id
  name      String
  createdAt DateTime
  updatedAt DateTime

  @@map("VectraWarehouseLocation")
  @@schema("vectra")
}
