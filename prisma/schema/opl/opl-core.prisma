model OplUser {
  userId                    String                         @id
  active                    Boolean                        @default(true)
  createdAt                 DateTime                       @default(now())
  updatedAt                 DateTime                       @updatedAt
  deactivatedAt             DateTime?
  transfersConfirmed        OplLocationTransfer[]          @relation("OplConfirmedTransfers")
  transfersRequested        OplLocationTransfer[]          @relation("OplRequestedTransfers")
  ordersAssigned            OplOrder[]                     @relation("OplOrderAssignedTo")
  ordersTransferred         OplOrder[]                     @relation("OplOrderTransfer")
  orderHistory              OplOrderHistory[]              @relation("OplOrderHistoryByUser")
  materialDeficits          OplTechnicianMaterialDeficit[] @relation("OplMaterialDeficitTechnician")
  warehouseItems            OplWarehouse[]                 @relation("OplWarehouseAssignedTo")
  transferredItems          OplWarehouse[]                 @relation("OplWarehouseTransfer")
  warehouseHistoryAssigned  OplWarehouseHistory[]          @relation("OplWHAssignedTo")
  warehouseHistoryPerformed OplWarehouseHistory[]          @relation("OplWHPerformedBy")

  user                      User                           @relation("UserToOplUser", fields: [userId], references: [id])
  @@schema("opl")
}

model OplRateDefinition {
  id          String                    @id @default(uuid())
  code        String                    @unique
  amount      Float
  settlements OplOrderSettlementEntry[] @relation("RateDefinitionToSettlement")

  @@schema("opl")
}

model OplOperatorDefinition {
  operator String @unique

  @@schema("opl")
}
